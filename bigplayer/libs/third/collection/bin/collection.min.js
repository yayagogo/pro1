function defaultCompare(t,e){return e>t?-1:t===e?0:1}function defaultEquals(t,e){return t===e}function defaultToString(t){return null===t?"COLLECTION_NULL":isUndefined(t)?"COLLECTION_UNDEFINED":isString(t)?"$s"+t:"$o"+t.toString()}function makeString(t,e){if(void 0===e&&(e=","),null===t)return"COLLECTION_NULL";if(isUndefined(t))return"COLLECTION_UNDEFINED";if(isString(t))return t.toString();var n="{",i=!0;for(var r in t)util.has(t,r)&&(i?i=!1:n+=e,n=n+r+":"+t[r]);return n+"}"}function isFunction(t){return"function"==typeof t}function isUndefined(t){return"undefined"==typeof t}function isString(t){return"[object String]"===Object.prototype.toString.call(t)}function reverseCompareFunction(t){return isUndefined(t)||!isFunction(t)?function(t,e){return e>t?1:t===e?0:-1}:function(e,n){return-1*t(e,n)}}function compareToEquals(t){return function(e,n){return 0===t(e,n)}}var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),utils;!function(t){var e=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||defaultToString}return t.prototype.getValue=function(t){var e=this.table["$"+this.toStr(t)];if(!isUndefined(e))return e.value},t.prototype.setValue=function(t,e){if(!isUndefined(t)&&!isUndefined(e)){var n,i="$"+this.toStr(t),r=this.table[i];return isUndefined(r)?(this.nElements++,n=void 0):n=r.value,this.table[i]={key:t,value:e},n}},t.prototype.remove=function(t){var e="$"+this.toStr(t),n=this.table[e];return isUndefined(n)?void 0:(delete this.table[e],this.nElements--,n.value)},t.prototype.keys=function(){var t=[];for(var e in this.table)if(util.has(this.table,e)){var n=this.table[e];t.push(n.key)}return t},t.prototype.values=function(){var t=[];for(var e in this.table)if(util.has(this.table,e)){var n=this.table[e];t.push(n.value)}return t},t.prototype.forEach=function(t){for(var e in this.table)if(util.has(this.table,e)){var n=this.table[e],i=t(n.key,n.value);if(i===!1)return}},t.prototype.containsKey=function(t){return!isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach(function(e,n){t+="\n	"+e+" : "+n}),t+"\n}"},t}();t.Dictionary=e,__reflect(e.prototype,"utils.Dictionary")}(utils||(utils={}));var util;!function(t){var e=Object.prototype.hasOwnProperty;t.has=function(t,n){return e.call(t,n)}}(util||(util={}));var utils;!function(t){var e=function(t){function e(e,n){var i=t.call(this,n)||this;return i.defaultFactoryFunction=e,i}return __extends(e,t),e.prototype.setDefault=function(e,n){var i=t.prototype.getValue.call(this,e);return isUndefined(i)?(this.setValue(e,n),n):i},e.prototype.getValue=function(t){return this.setDefault(t,this.defaultFactoryFunction())},e}(t.Dictionary);t.FactoryDictionary=e,__reflect(e.prototype,"utils.FactoryDictionary")}(utils||(utils={}));var utils;!function(t){var e=function(){function t(t){this.data=[],this.compare=t||defaultCompare}return t.prototype.leftChildIndex=function(t){return 2*t+1},t.prototype.rightChildIndex=function(t){return 2*t+2},t.prototype.parentIndex=function(t){return Math.floor((t-1)/2)},t.prototype.minIndex=function(t,e){return e>=this.data.length?t>=this.data.length?-1:t:this.compare(this.data[t],this.data[e])<=0?t:e},t.prototype.siftUp=function(t){for(var e=this.parentIndex(t);t>0&&this.compare(this.data[e],this.data[t])>0;)arrays.swap(this.data,e,t),t=e,e=this.parentIndex(t)},t.prototype.siftDown=function(t){for(var e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t));e>=0&&this.compare(this.data[t],this.data[e])>0;)arrays.swap(this.data,e,t),t=e,e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t))},t.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},t.prototype.add=function(t){return isUndefined(t)?!1:(this.data.push(t),this.siftUp(this.data.length-1),!0)},t.prototype.removeRoot=function(){if(this.data.length>0){var t=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),t}},t.prototype.contains=function(t){var e=compareToEquals(this.compare);return arrays.contains(this.data,t,e)},t.prototype.size=function(){return this.data.length},t.prototype.isEmpty=function(){return this.data.length<=0},t.prototype.clear=function(){this.data.length=0},t.prototype.forEach=function(t){arrays.forEach(this.data,t)},t}();t.Heap=e,__reflect(e.prototype,"utils.Heap")}(utils||(utils={}));var utils;!function(t){var e=function(){function t(){this.firstNode=null,this.lastNode=null,this.nElements=0}return t.prototype.add=function(t,e){if(isUndefined(e)&&(e=this.nElements),0>e||e>this.nElements||isUndefined(t))return!1;var n=this.createNode(t);if(0===this.nElements||null===this.lastNode)this.firstNode=n,this.lastNode=n;else if(e===this.nElements)this.lastNode.next=n,this.lastNode=n;else if(0===e)n.next=this.firstNode,this.firstNode=n;else{var i=this.nodeAtIndex(e-1);if(null==i)return!1;n.next=i.next,i.next=n}return this.nElements++,!0},t.prototype.first=function(){return null!==this.firstNode?this.firstNode.element:void 0},t.prototype.last=function(){return null!==this.lastNode?this.lastNode.element:void 0},t.prototype.elementAtIndex=function(t){var e=this.nodeAtIndex(t);if(null!==e)return e.element},t.prototype.indexOf=function(t,e){var n=e||defaultEquals;if(isUndefined(t))return-1;for(var i=this.firstNode,r=0;null!==i;){if(n(i.element,t))return r;r++,i=i.next}return-1},t.prototype.contains=function(t,e){return this.indexOf(t,e)>=0},t.prototype.remove=function(t,e){var n=e||defaultEquals;if(this.nElements<1||isUndefined(t))return!1;for(var i=null,r=this.firstNode;null!==r;){if(n(r.element,t))return null==i?(this.firstNode=r.next,r===this.lastNode&&(this.lastNode=null)):r===this.lastNode?(this.lastNode=i,i.next=r.next,r.next=null):(i.next=r.next,r.next=null),this.nElements--,!0;i=r,r=r.next}return!1},t.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},t.prototype.equals=function(e,n){var i=n||defaultEquals;return e instanceof t?this.size()!==e.size()?!1:this.equalsAux(this.firstNode,e.firstNode,i):!1},t.prototype.equalsAux=function(t,e,n){for(;null!==t&&null!==e;){if(!n(t.element,e.element))return!1;t=t.next,e=e.next}return!0},t.prototype.removeElementAtIndex=function(t){if(!(0>t||t>=this.nElements||null===this.firstNode||null===this.lastNode)){var e;if(1===this.nElements)e=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var n=this.nodeAtIndex(t-1);null===n?(e=this.firstNode.element,this.firstNode=this.firstNode.next):n.next===this.lastNode&&(e=this.lastNode.element,this.lastNode=n),null!==n&&null!==n.next&&(e=n.next.element,n.next=n.next.next)}return this.nElements--,e}},t.prototype.forEach=function(t){for(var e=this.firstNode;null!==e&&t(e.element)!==!1;)e=e.next},t.prototype.reverse=function(){for(var t=null,e=this.firstNode,n=null;null!==e;)n=e.next,e.next=t,t=e,e=n;n=this.firstNode,this.firstNode=this.lastNode,this.lastNode=n},t.prototype.toArray=function(){for(var t=[],e=this.firstNode;null!==e;)t.push(e.element),e=e.next;return t},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){return arrays.toString(this.toArray())},t.prototype.nodeAtIndex=function(t){if(0>t||t>=this.nElements)return null;if(t===this.nElements-1)return this.lastNode;for(var e=this.firstNode,n=0;t>n&&null!=e;n++)e=e.next;return e},t.prototype.createNode=function(t){return{element:t,next:null}},t}();t.LinkedList=e,__reflect(e.prototype,"utils.LinkedList")}(utils||(utils={}));var utils;!function(t){var e=function(){function e(e,n,i){void 0===i&&(i=!1),this.dict=new t.Dictionary(e),this.equalsF=n||defaultEquals,this.allowDuplicate=i}return e.prototype.getValue=function(t){var e=this.dict.getValue(t);return isUndefined(e)?[]:arrays.copy(e)},e.prototype.setValue=function(t,e){if(isUndefined(t)||isUndefined(e))return!1;var n=this.dict.getValue(t);return isUndefined(n)?(this.dict.setValue(t,[e]),!0):!this.allowDuplicate&&arrays.contains(n,e,this.equalsF)?!1:(n.push(e),!0)},e.prototype.remove=function(t,e){if(isUndefined(e)){var n=this.dict.remove(t);return!isUndefined(n)}var i=this.dict.getValue(t);return!isUndefined(i)&&arrays.remove(i,e,this.equalsF)?(0===i.length&&this.dict.remove(t),!0):!1},e.prototype.keys=function(){return this.dict.keys()},e.prototype.values=function(){for(var t=this.dict.values(),e=[],n=0,i=t;n<i.length;n++)for(var r=i[n],o=0,s=r;o<s.length;o++){var u=s[o];e.push(u)}return e},e.prototype.containsKey=function(t){return this.dict.containsKey(t)},e.prototype.clear=function(){this.dict.clear()},e.prototype.size=function(){return this.dict.size()},e.prototype.isEmpty=function(){return this.dict.isEmpty()},e}();t.MultiDictionary=e,__reflect(e.prototype,"utils.MultiDictionary")}(utils||(utils={}));var utils;!function(t){var e=function(){function e(e){this.heap=new t.Heap(reverseCompareFunction(e))}return e.prototype.enqueue=function(t){return this.heap.add(t)},e.prototype.add=function(t){return this.heap.add(t)},e.prototype.dequeue=function(){if(0!==this.heap.size()){var t=this.heap.peek();return this.heap.removeRoot(),t}},e.prototype.peek=function(){return this.heap.peek()},e.prototype.contains=function(t){return this.heap.contains(t)},e.prototype.isEmpty=function(){return this.heap.isEmpty()},e.prototype.size=function(){return this.heap.size()},e.prototype.clear=function(){this.heap.clear()},e.prototype.forEach=function(t){this.heap.forEach(t)},e}();t.PriorityQueue=e,__reflect(e.prototype,"utils.PriorityQueue")}(utils||(utils={}));var utils;!function(t){var e=function(){function e(){this.list=new t.LinkedList}return e.prototype.enqueue=function(t){return this.list.add(t)},e.prototype.add=function(t){return this.list.add(t)},e.prototype.dequeue=function(){if(0!==this.list.size()){var t=this.list.first();return this.list.removeElementAtIndex(0),t}},e.prototype.peek=function(){return 0!==this.list.size()?this.list.first():void 0},e.prototype.size=function(){return this.list.size()},e.prototype.contains=function(t,e){return this.list.contains(t,e)},e.prototype.isEmpty=function(){return this.list.size()<=0},e.prototype.clear=function(){this.list.clear()},e.prototype.forEach=function(t){this.list.forEach(t)},e}();t.Queue=e,__reflect(e.prototype,"utils.Queue")}(utils||(utils={}));var utils;!function(t){var e=function(){function e(e){this.dictionary=new t.Dictionary(e)}return e.prototype.contains=function(t){return this.dictionary.containsKey(t)},e.prototype.add=function(t){return this.contains(t)||isUndefined(t)?!1:(this.dictionary.setValue(t,t),!0)},e.prototype.intersection=function(t){var e=this;this.forEach(function(n){return t.contains(n)||e.remove(n),!0})},e.prototype.union=function(t){var e=this;t.forEach(function(t){return e.add(t),!0})},e.prototype.difference=function(t){var e=this;t.forEach(function(t){return e.remove(t),!0})},e.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var e=!0;return this.forEach(function(n){return t.contains(n)?!0:(e=!1,!1)}),e},e.prototype.remove=function(t){return this.contains(t)?(this.dictionary.remove(t),!0):!1},e.prototype.forEach=function(t){this.dictionary.forEach(function(e,n){return t(n)})},e.prototype.toArray=function(){return this.dictionary.values()},e.prototype.isEmpty=function(){return this.dictionary.isEmpty()},e.prototype.size=function(){return this.dictionary.size()},e.prototype.clear=function(){this.dictionary.clear()},e.prototype.toString=function(){return arrays.toString(this.toArray())},e}();t.Set=e,__reflect(e.prototype,"utils.Set")}(utils||(utils={}));var utils;!function(t){var e=function(){function e(){this.list=new t.LinkedList}return e.prototype.push=function(t){return this.list.add(t,0)},e.prototype.add=function(t){return this.list.add(t,0)},e.prototype.pop=function(){return this.list.removeElementAtIndex(0)},e.prototype.peek=function(){return this.list.first()},e.prototype.size=function(){return this.list.size()},e.prototype.contains=function(t,e){return this.list.contains(t,e)},e.prototype.isEmpty=function(){return this.list.isEmpty()},e.prototype.clear=function(){this.list.clear()},e.prototype.forEach=function(t){this.list.forEach(t)},e}();t.Stack=e,__reflect(e.prototype,"utils.Stack")}(utils||(utils={}));var arrays;!function(t){function e(t,e,n){for(var i=n||defaultEquals,r=t.length,o=0;r>o;o++)if(i(t[o],e))return o;return-1}function n(t,e,n){for(var i=n||defaultEquals,r=t.length,o=r-1;o>=0;o--)if(i(t[o],e))return o;return-1}function i(t,n,i){return e(t,n,i)>=0}function r(t,n,i){var r=e(t,n,i);return 0>r?!1:(t.splice(r,1),!0)}function o(t,e,n){for(var i=n||defaultEquals,r=t.length,o=0,s=0;r>s;s++)i(t[s],e)&&o++;return o}function s(t,e,n){var i=n||defaultEquals;if(t.length!==e.length)return!1;for(var r=t.length,o=0;r>o;o++)if(!i(t[o],e[o]))return!1;return!0}function u(t){return t.concat()}function a(t,e,n){if(0>e||e>=t.length||0>n||n>=t.length)return!1;var i=t[e];return t[e]=t[n],t[n]=i,!0}function l(t){return"["+t.toString()+"]"}function f(t,e){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(e(r)===!1)return}}t.indexOf=e,t.lastIndexOf=n,t.contains=i,t.remove=r,t.frequency=o,t.equals=s,t.copy=u,t.swap=a,t.toString=l,t.forEach=f}(arrays||(arrays={}));